var appOwin;
(function (appOwin) {
    'use strict';
    var App = (function () {
        function App(_app) {
            this.app = _app;
            this.url = 'http://localhost:10498/server/';
        }
        return App;
    }());
    appOwin.App = App;
})(appOwin || (appOwin = {}));
var appModule = new appOwin.App(angular.module('owin', ['ngRoute']));
var appOwinBase;
(function (appOwinBase) {
    'use strict';
    var Module = (function () {
        function Module(name, modules) {
            this.app = angular.module(name, modules);
        }
        Module.prototype.addController = function (name, controller) {
            this.app.controller(name, controller);
        };
        Module.prototype.addService = function (name, service) {
            this.app.service(name, service);
        };
        return Module;
    }());
    appOwinBase.Module = Module;
})(appOwinBase || (appOwinBase = {}));
var appOwin;
(function (appOwin) {
    var myApp = new appOwinBase.Module('myTestApp', ['ngRoute']);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    function start($rootScope) {
        var uToken = localStorage.getItem('Utoken');
        if (!uToken) {
            $rootScope.UToken = null;
        }
        else {
            $rootScope.UToken = angular.fromJson(uToken);
        }
    }
    start.$inject = ['$rootScope'];
    appModule.app.run(start);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var Config = (function () {
        function Config($routeProvider) {
            $routeProvider.when('/login', {
                controllerAs: 'vm',
                controller: 'LoginCtrl',
                templateUrl: '/login.html'
            }).when('/', {
                controllerAs: 'vm',
                controller: 'HomeCtrl',
                templateUrl: '/wwwroot/pages/home.html'
            }).when('/alert', {
                controllerAs: 'vm',
                controller: 'AlertCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/alert.html'
            }).when('/button', {
                controllerAs: 'vm',
                controller: 'ButtonCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/button.html'
            }).when('/card', {
                controllerAs: 'vm',
                controller: 'CardCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/card.html'
            }).when('/grid', {
                controllerAs: 'vm',
                controller: 'GridCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/grid.html'
            }).when('/list', {
                controllerAs: 'vm',
                controller: 'ListCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/list.html'
            }).when('/loader', {
                controllerAs: 'vm',
                controller: 'LoaderCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/loader.html'
            }).when('/modal', {
                controllerAs: 'vm',
                controller: 'ModalCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/modal.html'
            }).when('/panel', {
                controllerAs: 'vm',
                controller: 'PanelCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/panel.html'
            }).when('/step', {
                controllerAs: 'vm',
                controller: 'StepCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/step.html'
            }).when('/themming', {
                controllerAs: 'vm',
                controller: 'ThemmingCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/theming.html'
            }).when('/other', {
                controllerAs: 'vm',
                controller: 'OtherCtrl',
                templateUrl: '/wwwroot/pages/ui-kits/other.html'
            }).otherwise({
                controllerAs: 'vm',
                controller: 'HomeCtrl',
                templateUrl: '/wwwroot/pages/404.html'
            });
        }
        Config.$inject = ['$routeProvider'];
        return Config;
    }());
    appOwin.Config = Config;
    appModule.app.config(Config);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var UserToken = (function () {
        function UserToken(title, userName, token) {
            this.title = title;
            this.userName = userName;
            this.token = token;
        }
        return UserToken;
    }());
    appOwin.UserToken = UserToken;
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    var Profile = (function () {
        function Profile(Id, Name, Email, Active) {
            this.Id = Id;
            this.Name = Name;
            this.Email = Email;
            this.Active = Active;
        }
        return Profile;
    }());
    appOwin.Profile = Profile;
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var ProfileService = (function () {
        function ProfileService($http, $q) {
            this.$http = $http;
            this.$q = $q;
            this.uri = appModule.url + "api/v1/autentication/GetUser";
        }
        ProfileService.prototype.get = function () {
            var deferred = this.$q.defer();
            this.$http.get(this.uri).then(function (response) {
                deferred.resolve(response.data);
            }).catch(function (reason) {
                deferred.reject(reason);
            });
            return deferred.promise;
        };
        ProfileService.$inject = ['$http', '$q'];
        return ProfileService;
    }());
    appOwin.ProfileService = ProfileService;
    appModule.app.service('ProfileService', ProfileService);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var ApiCallInterceptor = (function () {
        function ApiCallInterceptor($q) {
            var _this = this;
            this.$q = $q;
            this.request = function (config) {
                config.headers = config.headers || {};
                var authData = JSON.parse(window.localStorage.getItem('Utoken'));
                if (authData) {
                    config.headers['Authorization'] = 'Bearer ' + authData.access_token;
                }
                return config;
            };
            this.response = function (response) {
                return _this.$q.when(response);
            };
        }
        ApiCallInterceptor.factory = function ($q) {
            return new ApiCallInterceptor($q);
        };
        return ApiCallInterceptor;
    }());
    var httpConfig = function ($httpProvider) {
        $httpProvider.interceptors.push(ApiCallInterceptor.factory);
    };
    appModule.app.config(httpConfig);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var AlertCtrl = (function () {
        function AlertCtrl(scope) {
            this.$scope = scope;
        }
        AlertCtrl.$inject = ["$scope"];
        return AlertCtrl;
    }());
    appOwin.AlertCtrl = AlertCtrl;
    appModule.app.controller('AlertCtrl', AlertCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var ButtonCtrl = (function () {
        function ButtonCtrl(scope) {
            this.$scope = scope;
        }
        ButtonCtrl.$inject = ["$scope"];
        return ButtonCtrl;
    }());
    appOwin.ButtonCtrl = ButtonCtrl;
    appModule.app.controller('ButtonCtrl', ButtonCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var CardCtrl = (function () {
        function CardCtrl(scope) {
            this.$scope = scope;
        }
        CardCtrl.$inject = ["$scope"];
        return CardCtrl;
    }());
    appOwin.CardCtrl = CardCtrl;
    appModule.app.controller('CardCtrl', CardCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var GridCtrl = (function () {
        function GridCtrl(scope) {
            this.$scope = scope;
        }
        GridCtrl.$inject = ["$scope"];
        return GridCtrl;
    }());
    appOwin.GridCtrl = GridCtrl;
    appModule.app.controller('GridCtrl', GridCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var HomeCtrl = (function () {
        function HomeCtrl(scope) {
            this.$scope = scope;
        }
        HomeCtrl.$inject = ["$scope"];
        return HomeCtrl;
    }());
    appOwin.HomeCtrl = HomeCtrl;
    appModule.app.controller('HomeCtrl', HomeCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var ListCtrl = (function () {
        function ListCtrl(scope) {
            this.$scope = scope;
        }
        ListCtrl.$inject = ["$scope"];
        return ListCtrl;
    }());
    appOwin.ListCtrl = ListCtrl;
    appModule.app.controller('ListCtrl', ListCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var LoaderCtrl = (function () {
        function LoaderCtrl(scope) {
            this.$scope = scope;
        }
        LoaderCtrl.$inject = ["$scope"];
        return LoaderCtrl;
    }());
    appOwin.LoaderCtrl = LoaderCtrl;
    appModule.app.controller('LoaderCtrl', LoaderCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var LoginCtrl = (function () {
        function LoginCtrl(scope, local, http) {
            this.$scope = scope;
            this.$location = local;
            this.$http = http;
            this.login = { email: "alison@amorim.com", pass: "testando" };
            this.$scope.login = this.login;
        }
        LoginCtrl.prototype.Send = function () {
            var data = "grant_type=password&username=" + this.$scope.login.email + "&password=" + this.$scope.login.pass;
            this.$http.post('http://localhost:10498/server/api/security/token', data, { headers: { 'Content-Type': 'application/x-www-form-urlencoded' } })
                .success(function (result) {
                console.log(result);
                window.localStorage.setItem('Utoken', JSON.stringify(result));
                window.location.href = 'http://localhost:10498/';
            });
        };
        LoginCtrl.$inject = ['$scope', '$location', '$http'];
        return LoginCtrl;
    }());
    appOwin.LoginCtrl = LoginCtrl;
    appModule.app.controller('LoginCtrl', LoginCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var ModalCtrl = (function () {
        function ModalCtrl(scope) {
            this.$scope = scope;
        }
        ModalCtrl.$inject = ["$scope"];
        return ModalCtrl;
    }());
    appOwin.ModalCtrl = ModalCtrl;
    appModule.app.controller('ModalCtrl', ModalCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var PanelCtrl = (function () {
        function PanelCtrl(scope) {
            this.$scope = scope;
        }
        PanelCtrl.$inject = ["$scope"];
        return PanelCtrl;
    }());
    appOwin.PanelCtrl = PanelCtrl;
    appModule.app.controller('PanelCtrl', PanelCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var ProfileCtrl = (function () {
        function ProfileCtrl($scope, profileService) {
            this.$scope = $scope;
            this.profileService = profileService;
            var promise = profileService.get();
            promise.then(function (response) {
                console.log(response);
                $scope.profile = response;
            });
        }
        ProfileCtrl.prototype.Logout = function () {
            console.info('oi');
            window.localStorage.removeItem('Utoken');
            window.location.href = 'http://localhost:10498/login.html';
        };
        ProfileCtrl.$inject = ['$scope', 'ProfileService'];
        return ProfileCtrl;
    }());
    appOwin.ProfileCtrl = ProfileCtrl;
    appModule.app.controller('ProfileCtrl', ProfileCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var StepCtrl = (function () {
        function StepCtrl(scope) {
            this.$scope = scope;
        }
        StepCtrl.$inject = ["$scope"];
        return StepCtrl;
    }());
    appOwin.StepCtrl = StepCtrl;
    appModule.app.controller('StepCtrl', StepCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var OtherCtrl = (function () {
        function OtherCtrl(scope) {
            this.$scope = scope;
        }
        OtherCtrl.$inject = ["$scope"];
        return OtherCtrl;
    }());
    appOwin.OtherCtrl = OtherCtrl;
    appModule.app.controller('OtherCtrl', OtherCtrl);
})(appOwin || (appOwin = {}));
var appOwin;
(function (appOwin) {
    'use strict';
    var ThemingCtrl = (function () {
        function ThemingCtrl(scope) {
            this.$scope = scope;
        }
        ThemingCtrl.$inject = ['$scope'];
        return ThemingCtrl;
    }());
    appOwin.ThemingCtrl = ThemingCtrl;
    appModule.app.controller('ThemingCtrl', ThemingCtrl);
})(appOwin || (appOwin = {}));
